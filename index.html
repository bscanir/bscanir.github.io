<!DOCTYPE html>
<html lang="fa">
<head>
	<meta charset="UTF-8">
	<title>بارکدساز اسنپ مارکت</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="jsbarcode.js"></script>
</head>
<body>
<div id="main">
	<div id="frame">
		<div id="wrap">
			<h1 id="title">بارکدساز اسنپ</h1>
			<div id="barwrap">
				<span id="barlabel">شماره بارکد</span>
				<input id="barcode" name="barcode" type="number" autocomplete="off" placeholder="اعداد فارسی و انگلیسی قبوله">
				<span id="barfocus"></span>
			</div>
			<div id="btndiv">
				<div id="btnwrap">
					<div id="btnbg"></div>
					<button id="btninput" onclick="gencode();">ساخت بارکد</button>
				</div>
			</div>
			<div class="bars">
				<div class="bcode">
					<svg id="usrcode"></svg>
				</div>
			</div>
			<div class="bars">
				<p>اسکنر معمولی</p>
				<div class="bcode">
					<svg id="snreset"></svg>
					<p class="btxt">بازنشانی کارخانه</p>
				</div>
				<div class="bcode">
					<svg id="snoff"></svg>
					<p class="btxt">خاموش کردن</p>
				</div>
			</div>
			<div class="bars">
				<p>اسکنر تفنگی</p>
				<div class="bcode">
					<svg id="sgreset"></svg>
					<p class="btxt">بازنشانی کارخانه</p>
				</div>
				<div class="bcode">
					<svg id="sgbt"></svg>
					<p class="btxt">کیبورد بلوتوث</p>
				</div>
				<div class="bcode">
					<svg id="sgcr"></svg>
					<p class="btxt">اضافه کردن CR + LF</p>
				</div>
				<div class="bcode">
					<svg id="sgoff"></svg>
					<p class="btxt">خاموش کردن</p>
				</div>
			</div>
			<script>
				JsBarcode("#snreset", "$$%^1207", {format: "code128", displayValue: false});
				JsBarcode("#snoff", "$$%^5300", {format: "code128", displayValue: false});
				JsBarcode("#sgreset", "09321175", {format: "code128", displayValue: false});
				JsBarcode("#sgbt", "SX00", {format: "code128", displayValue: false});
				JsBarcode("#sgcr", "090300", {format: "code128", displayValue: false});
				JsBarcode("#sgoff", "SX03", {format: "code128", displayValue: false});
				function fa2en(num) {
					var fa = ["۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹"];
					var en = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
					var cache = num;
					for (var i = 0; i < 10; i++) {
					var reg = new RegExp(fa[i], 'g');
						cache = cache.replace(reg, en[i]);
					}
					return cache;
				}
				var input = document.getElementById("barcode");
				input.addEventListener("keypress", function(event) {
					if (event.key === "Enter") {
						event.preventDefault();
						document.getElementById("btninput").click();
					}
				});
				function gencode(){
					JsBarcode("#usrcode", fa2en(document.getElementById("barcode").value), {format: "code128"});
				}
			</script>
		</div>
	</div>
</div>
</body>
</html>